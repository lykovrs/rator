(this.webpackJsonpexchangerates=this.webpackJsonpexchangerates||[]).push([[0],{49:function(e,t,a){e.exports=a(64)},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),c=a.n(i),o=a(3),l=a(103),s=a(104),u=a(105),m=a(106),d=a(107),p=a(108),g=a(109),f=a(110),h=a(66),E=a(41),b=a.n(E),v=a(38),x=a(11),w=a(17),j=a.n(w);var y=function(e){var t=e.items,a=void 0===t?[]:t,n=r.a.useMemo((function(){return a.reduce((function(e,t){var a=t.date,n=t.rates;return j.a.rates=n,Object(x.a)(e,(function(e){e[0].data.push([new Date(a),j.a.convert(1,{from:"EUR",to:"RUB"})]),e[1].data.push([new Date(a),j.a.convert(1,{from:"USD",to:"RUB"})])}))}),[{label:"USD",data:[]},{label:"EUR",data:[]}])}),[a]),i=r.a.useMemo((function(){return[{primary:!0,type:"time",position:"bottom"},{type:"linear",position:"left"}]}),[]);return r.a.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden"}},r.a.createElement(v.Chart,{data:n,axes:i,tooltip:!0}))},O=a(98),D=a(102),S=a(101),U=a(97),B=a(99),R=a(100),P=a(95),N=Object(P.a)({table:{minWidth:650}});function Y(e){var t=e.items,a=N();return r.a.createElement(U.a,{component:h.a},r.a.createElement(O.a,{className:a.table,"aria-label":"simple table"},r.a.createElement(B.a,null,r.a.createElement(R.a,null,r.a.createElement(S.a,null,"Date"),r.a.createElement(S.a,{align:"right"},"USD"),r.a.createElement(S.a,{align:"right"},"EUR"))),r.a.createElement(D.a,null,t.map((function(e){return j.a.rates=e.rates,r.a.createElement(R.a,{key:e.date},r.a.createElement(S.a,{component:"th",scope:"row"},e.date),r.a.createElement(S.a,{align:"right"},j.a.convert(1,{from:"USD",to:"RUB"}).toFixed(2)),r.a.createElement(S.a,{align:"right"},j.a.convert(1,{from:"EUR",to:"RUB"}).toFixed(2)))})))))}var I,M=a(111),k=a(18),A=a(13),C=a.n(A),H=a(16),W=a(29),z=Object(P.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(W.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(H.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:400}}})),F=a(43),G=a(32),J=a.n(G),L=a(40),T=a(26),X=Object(T.b)("rate/fetchRateByDate",function(){var e=Object(L.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.exchangeratesapi.io","/").concat(t,"?base=RUB&symbols=USD,EUR,RUB"));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),q=Object(T.c)({name:"rates",initialState:{isActivePolling:!0,currentDate:C()().subtract(29,"day").format("YYYY-MM-DD"),history:[]},reducers:{startPolling:function(e){e.isActivePolling=!0},stopPolling:function(e){e.isActivePolling=!1}},extraReducers:(I={},Object(H.a)(I,X.pending,(function(e,t){e.status="loading"})),Object(H.a)(I,X.fulfilled,(function(e,t){var a=C()(e.currentDate).add(1,"day").format("YYYY-MM-DD");e.status="succeeded",e.history=[].concat(Object(F.a)(e.history),[Object(W.a)({},t.payload,{date:e.currentDate})]),e.currentDate=a})),Object(H.a)(I,X.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),I)}),K=q.actions,Q=K.startPolling,V=K.stopPolling,Z=function(e){return e.rate.currentDate},$=function(e){return e.rate.history},_=function(e){return e.rate.isActivePolling},ee=q.reducer,te=a(112);function ae(){var e=Object(k.b)(),t=z(),a=Object(k.c)(_),i=Object(k.c)(Z),c=Object(k.c)($),E=Object(o.a)(t.paper,t.fixedHeight);return Object(n.useEffect)((function(){if(a){var t=setInterval((function(){e(X(i))}),1e3);return function(){return clearInterval(t)}}}),[e,a,i]),C()(i).isAfter(C()())&&e(V()),r.a.createElement("div",{className:t.root},r.a.createElement(l.a,null),r.a.createElement(s.a,{position:"absolute"},r.a.createElement(u.a,{className:t.toolbar},r.a.createElement(m.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},"exchangeratesapi.io"),r.a.createElement(d.a,{color:"inherit"},r.a.createElement(p.a,{badgeContent:c.length,color:"secondary"},r.a.createElement(b.a,null))))),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),a&&r.a.createElement(te.a,null),r.a.createElement(g.a,{maxWidth:"lg",className:t.container},r.a.createElement(f.a,{container:!0,spacing:3},r.a.createElement(f.a,{item:!0,xs:12,md:8,lg:9},r.a.createElement(h.a,{className:E},r.a.createElement(y,{items:c}))),r.a.createElement(f.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(M.a,{disabled:C()(i).isAfter(C()()),variant:"contained",color:"primary",className:t.button,onClick:function(){e(Q())}},a?"Stop":"Start"," polling")),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(Y,{items:c}))))))}var ne=function(){return r.a.createElement("div",null,r.a.createElement(ae,null))},re=Object(T.a)({reducer:{rate:ee}}),ie=a(42),ce=a.n(ie);C.a.extend(ce.a),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k.a,{store:re},r.a.createElement(ne,null))),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.9604874e.chunk.js.map